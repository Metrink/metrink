<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
<wicket:panel>

    <div class="control-group">
      <div class="controls">
      <input type="checkbox" wicket:id="relative-time"/><span style="padding-left: 5px;">Absolute/Relative</span>      
      </div>
    </div>
  
  <div wicket:id="absolute-time-container">
    <div class="control-group">
      <label class="control-label" for="start">Start</label>
      <div class="controls">
        <div id="start-time-picker" class="input-append date">
          <input wicket:id="start" type="text"></input>
          <span class="add-on"><i data-time-icon="icon-time" data-date-icon="icon-calendar"></i></span>
        </div>
      </div>
    </div>
    
    <div class="control-group">
      <label class="control-label" for="end">End</label>
      <div class="controls">
        <div id="end-time-picker" class="input-append date">
          <input wicket:id="end" type="text"></input>
          <span class="add-on"><i data-time-icon="icon-time" data-date-icon="icon-calendar"></i></span>
        </div>
      </div>
    </div>
  </div>
            
  <div wicket:id="relative-time-container">
    <div class="control-group">
      <label class="control-label">Relative Time</label>
      <div class="controls">
        <input type="number" style="width: 3em;" wicket:id="count"></input> 
        <select wicket:id="unit"></select>
      </div>
    </div>
  </div>

  <!-- Date time picker Javascript -->    
  <script type="text/javascript">
      var configure_pickers = function() {
          /*
           * The wicket-modal form has an onclick event which prevents event bubbling. This breaks the datetimepicker's
           * mechanism for triggering a hide after it's lost focus. To remediate the issue, this binds an additional
           * click event to the form which emulates the datetimepicker's default behavior.
           */
          var onShow = function() {
              $('.wicket-modal form').on('click', function(ev) {
                  if ($(ev.target).closest('.datepicker').length == 0) {
                      $('#end-time-picker').datetimepicker('hide');
                      $('#start-time-picker').datetimepicker('hide');
                  }
              });
          };
          
          $('#start-time-picker').datetimepicker({
                format: 'yyyy-MM-dd HH:mm PP',
                pick12HourFormat: true,
                pickSeconds: false
          }).on('show', onShow)
            .on('changeDate', function(e) {
                $('input', this).trigger('inputchange');
            });
          $('#end-time-picker').datetimepicker({
                format: 'yyyy-MM-dd HH:mm PP',
                pick12HourFormat: true,
                pickSeconds: false
          }).on('show', onShow)
            .on('changeDate', function(e) {
                $('input', this).trigger('inputchange');
            });
      };
      
      $(document).ready(function() { configure_pickers(); });      
  </script>

</wicket:panel>
</html>